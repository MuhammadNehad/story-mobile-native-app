package mainproject.mainroject.story;

public class personTopersonPayment{
/****************************************************************
 * Attach a PayPal payment email to a Slack user ID for payment
 ****************************************************************/
//controller.hears(['add paypal (.*)'], 'direct_message,direct_mention,mention', function(bot, message) {
//        var email = message.match[1];
//        controller.storage.users.get(message.user, function(err, user) {
//            // Create user if the user does not exist
//            if (!user) {
//                user = {
//                        id: message.user,
//      };
//            }
//            // Extract single email from mailto string and store
//            // Source: http://www.regular-expressions.info/email.html
//            user.email = email.match(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/)[0];
//
//            // Save user record
//            controller.storage.users.save(user, function(err, id) {
//                bot.reply(message, 'Your PayPal payment email will be ' + user.email + ' from now on.');
//            });
//        });
//    });

}
